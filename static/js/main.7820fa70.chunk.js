(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3qY3y","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1GzBy"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1tT6Q"}},13:function(e,t,a){e.exports={Button:"Button_Button__3y3ue"}},17:function(e,t,a){e.exports={loader:"Loader_loader__LEdgh"}},24:function(e,t,a){},25:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__JZjAc",SearchForm:"Searchbar_SearchForm__3CAO8","SearchForm-button":"Searchbar_SearchForm-button__2qyOf","SearchForm-button-label":"Searchbar_SearchForm-button-label__1Ko1X","SearchForm-input":"Searchbar_SearchForm-input__1B3b_"}},48:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),i=(a(24),a(11)),l=a(3),s=(a(25),a(4)),u=a.n(s),m=a(1);var b=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(t){t.preventDefault(),e.onSubmit(c),r("")},children:[Object(m.jsx)("button",{type:"submit",className:u.a["SearchForm-button"],children:Object(m.jsx)("span",{className:u.a["SearchForm-button-label"],children:"Search"})}),Object(m.jsx)("input",{className:u.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){!function(e){r(e.currentTarget.value)}(e)}})]})})},j=a(12),h=a.n(j),d=a(10),g=a.n(d),f=function(e){var t=e.images,a=e.openModal;return t.map((function(e){return Object(m.jsx)("li",{className:g.a.ImageGalleryItem,onClick:function(){a({src:e.largeImageURL,id:e.id})},children:Object(m.jsx)("img",{className:g.a["ImageGalleryItem-image"],src:e.webformatURL,alt:e.id})},e.id)}))},O=function(e){var t=e.hits,a=e.toggleModal;return Object(m.jsx)("ul",{className:h.a.ImageGallery,children:Object(m.jsx)(f,{images:t,openModal:a})})},p=a(13),_=a.n(p),S=function(e){var t=e.incrementPage,a=Object(n.useRef)();return Object(m.jsx)("button",{onClick:function(){t(a)},className:_.a.Button,ref:a,type:"button",children:"Load More"})},x=a(14),y=a(15),v=a(19),I=a(18),F=(a(27),a(16)),N=a.n(F),G=a(17),M=a.n(G),w=function(e){Object(v.a)(a,e);var t=Object(I.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return Object(m.jsx)(N.a,{className:M.a.loader,type:"Grid",color:"#00BFFF",height:80,width:80,timeout:1e3})}}]),a}(c.a.Component),k=a(8),B=a.n(k),C=document.querySelector("#modal-root");function E(e){var t=e.img,a=e.toggleModal;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(r.createPortal)(Object(m.jsxs)("div",{className:B.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:[Object(m.jsx)(w,{}),Object(m.jsx)("div",{className:B.a.Modal,children:Object(m.jsx)("img",{className:B.a["modal-img"],src:t.src,alt:t.id})})]}),C)}var L=function(e,t){var a="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&").concat("key=23877606-1096bee22002de3079c9510e6","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.json()}))};function q(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(l.a)(r,2),s=o[0],u=o[1],j=Object(n.useState)(""),h=Object(l.a)(j,2),d=h[0],g=h[1],f=Object(n.useState)("idle"),p=Object(l.a)(f,2),_=(p[0],p[1]),x=Object(n.useState)(!1),y=Object(l.a)(x,2),v=y[0],I=y[1],F=Object(n.useState)({}),N=Object(l.a)(F,2),G=N[0],M=N[1],k=function(e){var t=e||{};I(!v),M(t)};Object(n.useEffect)((function(){0!==a&&L(d,a).then((function(e){return B(e)})).catch((function(e){return console.log(e)}))}),[d,a]);var B=function(e){_("resolved"),u((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))}))};return Object(m.jsxs)("div",{className:"App",children:[v&&Object(m.jsx)(E,{img:G,toggleModal:k}),Object(m.jsx)(b,{onSubmit:function(e){""!==e.trim()&&e!==g&&(_("pending"),u([]),g(e),c(1))}}),"pending"===_&&Object(m.jsx)(w,{}),""===d.trim()&&Object(m.jsx)("h2",{className:"title",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043f\u043e\u0438\u0441\u043a"}),s.length>0&&Object(m.jsx)(O,{hits:s,toggleModal:k}),s.length>0&&Object(m.jsx)(S,{incrementPage:function(e){_("pending"),c((function(e){return e+1})),setTimeout((function(){e.current.scrollIntoView({behavior:"smooth"})}),500)}})]})}o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Overlay:"Modal_Overlay__16-4S",Modal:"Modal_Modal__z9MzC"}}},[[48,1,2]]]);
//# sourceMappingURL=main.7820fa70.chunk.js.map